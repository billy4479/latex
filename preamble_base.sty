\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{preamble_base}
[2024/03/05 Preamble Base]

\author{Giacomo Ellero}

% *------------------*
% | *** Packages *** |
% *------------------*

\RequirePackage{parskip} % for no indentation
\RequirePackage[a4paper,margin=1.5cm]{geometry} % to adjust margins
\RequirePackage{bookmark} % for pdf bookmarks

\RequirePackage{float} % for H in figures
\RequirePackage{graphicx} % for images
\RequirePackage{subfig} % for subfigures

\RequirePackage{dirtytalk} % for quotes
\RequirePackage[many]{tcolorbox} % for boxes
\RequirePackage{tikz} % for drawings
\RequirePackage{enumitem} % for custom lists
\RequirePackage{hyperref} % for hyperlinks

% *---------------*
% | *** Fonts *** |
% *---------------*

\RequirePackage{fontspec}

\setsansfont{Ubuntu}
\setmonofont{FiraCode Nerd Font} % the normal font doesn't support bold for some reason

% Use sans-serif by default
\renewcommand{\familydefault}{\sfdefault}

% *---------------*
% | *** Links *** |
% *---------------*

\hypersetup{
    colorlinks=true,
    linkcolor=teal,
    urlcolor=blue,
}
\urlstyle{same}

% *----------------*
% | *** Legacy *** |
% *----------------*
% TODO: inline them in the documents that need them

\newenvironment{absolutelynopagebreak}
{\par\nobreak\vfil\penalty0\vfilneg
    \vtop\bgroup}
{\par\xdef\tpd{\the\prevdepth}\egroup
    \prevdepth=\tpd}

\newtcolorbox{examplebox}[1]{colback=green!5!white,colframe=green!40!black,title={#1},fonttitle=\bfseries,parbox=false}
\newtcolorbox{notebox}[1]{colback=blue!5!white,colframe=blue!40!black,title={Note: #1},fonttitle=\bfseries,parbox=false}
\newtcolorbox{bluebox}[1]{colback=blue!5!white,colframe=blue!40!black,title={#1},fonttitle=\bfseries,parbox=false}
\newtcolorbox{warningbox}[1]{colback=orange!5!white,colframe=orange!90!black,title={Warning: #1},fonttitle=\bfseries,parbox=false}

% *-------------------*
% | *** Numbering *** |
% *-------------------*

\numberwithin{table}{section}
\numberwithin{figure}{section}

% We want numbers on subsections too
\setcounter{secnumdepth}{3}

% *-------------------*
% | *** Utilities *** |
% *-------------------*

% Make the first page, with title, toc and link to toc
\newcommand{\firstpage}{
    \maketitle
    \phantomsection
    \hypertarget{toc}{}
    \tableofcontents
    \clearpage
}

\endinput